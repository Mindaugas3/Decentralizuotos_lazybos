[{"C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\index.js":"1","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\serviceWorker.js":"2","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\App.js":"3","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\ErrorBoundary.js":"4","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\Success.js":"5","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\SubmitResult.js":"6"},{"size":495,"mtime":1608313175846,"results":"7","hashOfConfig":"8"},{"size":5086,"mtime":1608313175848,"results":"9","hashOfConfig":"8"},{"size":5382,"mtime":1608810229054,"results":"10","hashOfConfig":"8"},{"size":1947,"mtime":1608722643150,"results":"11","hashOfConfig":"8"},{"size":3812,"mtime":1608733939763,"results":"12","hashOfConfig":"8"},{"size":2411,"mtime":1608734140780,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1raj3uw",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\index.js",[],["30","31"],"C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\serviceWorker.js",[],"C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\App.js",["32","33"],"import React, { Component } from 'react';\r\nimport Web3 from 'web3';\r\nimport './App.css';\r\nimport ErrorBoundary from \"./ErrorBoundary.js\"\r\nimport SuccessView from \"./Success.js\"\r\nimport BettingManager from \"../abis/BettingManager.json\";\r\nimport Bet from \"../abis/Bet.json\";\r\nimport SubmitResult from './SubmitResult';\r\n\r\nclass App extends Component {\r\n\r\n  async componentWillMount(){ //promise pattern\r\n    await this.loadWeb3().then(async () => {\r\n        await this.bindAccount().then( async () => {\r\n          await this.loadBettingMgr().then(async () => {\r\n            //await this.loadSingleBet();\r\n          });\r\n        });\r\n    });\r\n    \r\n\r\n  }\r\n\r\n  async loadWeb3() {\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum)\r\n      await window.ethereum.enable()\r\n    }\r\n    else if (window.web3) {\r\n      window.web3 = new Web3(window.web3.currentProvider)\r\n    }\r\n    else {\r\n      this.setState({error:true});\r\n      this.setState({errorMsg: \"Prašome naudoti MetaMask įskiepį arba Ethereum kriptovaliutą palaikančią naršyklę!\"});\r\n      //window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\r\n    }\r\n  }\r\n\r\n  async loadBettingMgr(){\r\n\r\n    const networkId = await window.ethereum.networkVersion;\r\n    console.log(networkId);\r\n    const networkData = BettingManager.networks[networkId];\r\n    console.log(networkData);\r\n    if (networkData) {\r\n        const bettingManager = new window.web3.eth.Contract(BettingManager.abi, networkData.address);\r\n        bettingManager.handleRevert = true;\r\n        this.setState({mgr: bettingManager});\r\n        //say the page is loaded\r\n\r\n    } else {\r\n        //error\r\n        this.setState({error:true});\r\n        this.setState({errorMsg: \"Nepavyko prisijungti prie blokų grandinės!\\n Neužsikrauna kontraktai!\"});\r\n        console.log(this.state.errorMsg);\r\n    }\r\n  }\r\n\r\n  async loadSingleBet(){\r\n\r\n    const networkId = await window.web3.eth.networkId();\r\n    alert(networkId);\r\n    const networkData = Bet.networks[networkId];\r\n\r\n    if (networkData) {\r\n        const bet = new window.web3.eth.Contract(Bet.abi, networkData.address);\r\n        bet.handleRevert = true;\r\n        window.singleBet = bet;\r\n        //pass contract to state\r\n\r\n        //say the page is loaded\r\n    } else {\r\n        this.setState({error:true});\r\n        this.setState({errorMsg: \"Nepavyko prisijungti prie blokų grandinės! Neužsikrauna kontraktai!\"});\r\n    }\r\n  }\r\n\r\n  async bindAccount(){\r\n    const web3 = window.web3;\r\n    if(!web3) return;\r\n    let accounts;\r\n    await web3.eth.getAccounts((error, _accounts) => {\r\n      accounts = _accounts;\r\n      this.setState({account: accounts[0]});\r\n    }).then(async () => {\r\n      this.setState({balance: web3.utils.fromWei(await web3.eth.getBalance(this.state.account))})\r\n    });\r\n  }\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      account : \"\",\r\n      balance: 0,\r\n      loading: true,\r\n      error: false,\r\n      errorMsg: \"\",\r\n      isCompleted: false,\r\n      bet : {\r\n        sport: \"\",\r\n        match: \"\",\r\n        coefficient: 0,\r\n        sum: 0,\r\n        currency: \"Ether\"\r\n      }\r\n    };\r\n    this.handler = this.handler.bind(this);\r\n    this.commitHandler = this.commitHandler.bind(this);\r\n  }\r\n\r\n  handler(_sports, _match, _coefficient, _sum, _currency) {\r\n\r\n    console.log(_sports, _match, _coefficient);\r\n    console.log(this.state.account);\r\n    console.log(window.web3.utils.toWei(_sum.toString(), _currency));\r\n    \r\n    this.state.mgr.methods.createBet(_sports, _match, _coefficient).send({from: this.state.account, value: window.web3.utils.toWei(_sum.toString(), _currency)});\r\n  }\r\n\r\n  commitHandler(_sports, _match, _coefficient) {\r\n    this.state.mgr.methods.commitBets(_sports, _match, _coefficient).send({from: this.state.account});\r\n  }\r\n\r\n  render() {\r\n    \r\n      return (\r\n        <div>\r\n          <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\r\n            <a\r\n              className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\r\n              href=\"\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Decentralizuotos lažybos\r\n            </a>\r\n            <ul className=\"navbar-nav px-3\">\r\n            <li className=\"nav-item text-nowrap d-none d-sm-none d-sm-block\">\r\n              <small className=\"text-white\"><span id=\"account\">{this.state.account}</span></small>\r\n            </li>\r\n          </ul>\r\n          </nav>\r\n          <div className=\"container-fluid mt-5\">\r\n            <div className=\"row\">\r\n              <main role=\"main\" className=\"col-lg-12 d-flex text-center\">\r\n                <div className=\"content mr-auto ml-auto\">\r\n                <br/>\r\n                <br/>  \r\n                { this.state.error ? <ErrorBoundary message={this.state.errorMsg} visible=\"false\"/> : <div><SuccessView handler={this.handler} address={this.state.account} balance={this.state.balance}/> <SubmitResult commitHandler={this.commitHandler}/></div>}\r\n                  <a\r\n                    href=\"\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                  </a>\r\n                  \r\n                </div>\r\n              </main>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    \r\n    \r\n  }\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\ErrorBoundary.js",["34"],"import React, { Component } from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\nimport MMSettings from \"../ErrorImage.png\"\r\nimport Text from \"react-dom\"\r\n//import { Alert.Heading } from 'react-bootstrap';\r\n\r\nclass ErrorBoundary extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n        this.state = { \r\n            hasError: false,\r\n            errorMessage: \"\"\r\n        };\r\n        console.log(this.props.message);\r\n    }\r\n  \r\n    static getDerivedStateFromError(error) {    // Update state so the next render will show the fallback UI.    \r\n        return { hasError: true };  \r\n    }\r\n\r\n    render() {\r\n            // You can render any custom fallback UI      \r\n        return (\r\n            <Alert variant=\"danger\">\r\n            <Alert.Heading style={{backgroundColor:\"red\"}}>Klaida!</Alert.Heading>\r\n                <p><strong>{this.props.message}</strong></p>\r\n                <ul style={{textAlign:\"left\", margin: \"auto\", display: \"inline-block\", width: 70 + \"%\"}}>\r\n                    <li>Patikrinkite, ar MetaMask įskiepis įdiegtas</li>\r\n                    <li>Patikrinkite, ar Ganache veikia:</li>\r\n                    <li>Patikrinkite, ar MetaMask prisijungta prie: <br/>\r\n                        <img src={MMSettings} alt=\"MetaMask Settings\" />\r\n                    </li>\r\n                    <div style={{textAlign:\"left\"}}>\r\n                    <strong>Pastaba:</strong> Grandinės ID galite sužinoti paleidę <code style= {{backgroundColor: \"lightgray\"}} >truffle console</code> ir suvedę šią komandą: <br/>\r\n                    <code style= {{backgroundColor: \"lightgray\"}} >const chainId = await web3.eth.getChainId();</code><br/>\r\n                    <code style= {{backgroundColor: \"lightgray\"}} >chainId</code>\r\n                    </div>\r\n                </ul>\r\n            \r\n            </Alert>\r\n        );\r\n      //return this.props.children; \r\n    }\r\n  }\r\n\r\n  export default ErrorBoundary;","C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\Success.js",[],"C:\\Users\\Mindaugas\\Documents\\backend\\dLazybos\\dLazybos\\src\\components\\SubmitResult.js",[],["35","36"],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":129,"column":13,"nodeType":"43","endLine":134,"endColumn":14},{"ruleId":"41","severity":1,"message":"42","line":150,"column":19,"nodeType":"43","endLine":154,"endColumn":20},{"ruleId":"44","severity":1,"message":"45","line":4,"column":8,"nodeType":"46","messageId":"47","endLine":4,"endColumn":12},{"ruleId":"37","replacedBy":"48"},{"ruleId":"39","replacedBy":"49"},"no-native-reassign",["50"],"no-negated-in-lhs",["51"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-unused-vars","'Text' is defined but never used.","Identifier","unusedVar",["50"],["51"],"no-global-assign","no-unsafe-negation"]